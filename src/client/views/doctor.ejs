<!DOCTYPE html>
<html>

<head>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Doctor</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/theme.css">
    <link rel="stylesheet" href="../css/stylesheet.css">
    <link rel="stylesheet" href="../css/doctor.css">
    <script src="https://kit.fontawesome.com/c08742ea51.js" crossorigin="anonymous"></script>
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    
</head>

<body>
    <header>
        <%- include ('partials/header.ejs') %>
    </header>
    <div class="doc_top">
        <img src="https://s3.ap-south-1.amazonaws.com/appdev.konfinity.com/css/tasks/Doctors.png" alt="Surgeon">
        <!-- <h1>Cardiac Surgeon in <u>Delhi</u></h1> -->
        <h1><%= console.log(session) %>
            <%= session.filters && session.filters.treatment_filter ? session.filters.treatment_filter[0] : 'All Doctors' %> <%= session.filters && session.filters.location ? 'in ' : '' %><span><%= session.filters && session.filters.location   ? session.filters.location[session.filters.location.length - 1] : '' %></span>
        </h1>
    </div>
    <div class="title doc_cont">
        <span><a href="/">Home</a> <a href="doctors">/ Doctor List</a></span>
        
        <form method="POST" action="/sort-by" id="sort">
            <select class="breadcrumb__sort" name="sort" onchange="this.form.submit()" id="sortbtn">
                <option value="not-specified" selected disabled>Sort By</option>
                <option value="name-asc">Name A-Z</option>
                <option value="name-desc">Name Z-A</option>
                <option value="doctor.avg_fees-asc">Fees Low-High</option>
                <option value="doctor.avg_fees-desc">Fees High-Low</option>
                <option value="doctor.experience-desc">Experience</option>
            </select>	
        </form>
    </div>
    <section class="doc_main">
        <div class="filter">
            <h5>Filter By</h5>
            <div class="doctor_list__container__col-1__filter-by__tags"
            id="doctor_list__container__col-1__filter-by__tags">
            <% if(filter) { %>
                <% let key=Object.keys(filter) %>
                    <% key.forEach(el=> { %>
                        <% for(let i=0; i < filter[el].length; i++) { %>
                            <div class="filter_button">
                                <p class="text">
                                    <%= filter[el][i] %>
                                </p>
                                <button onclick="form_submit(this)">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <% } %>
                                <% }) %>
                                    <% } %>
        </div>
            <form class="filt" action="/add-filters">
                <span>
                    <h6>Location</h6>
                    <button type="submit"><i class="fa fa-search"></i></button>
                </span>
                <div>		
                    <% for(let i = 0; i < filters.location.length; i++) { %>
                    <% if(i <= 6) { %>
                        <input type="checkbox"  class="<%= '_' + filters.location[i].split(' ').join('-') %>" onclick="this.form.submit()" id="New Delhi" name="location[]" value="<%= filters.location[i] %>"><label class="checkbox_container" for="New Delhi"><%= filters.location[i] %></label>
                    <% } else { %>
                        <input type="checkbox" class="<%= '_' + filters.location[i].split(' ').join('-') %>" onclick="this.form.submit()" id="New Delhi" name="location[]" value="<%= filters.location[i] %>"><label class="checkbox_container display_none" for="New Delhi"><%= filters.location[i] %></label>
                    <% } %>
                <% } %>

                </div>
               
        
            <!-- <a class="showmore" href="#">+ Show More</a> -->
            <% if(filters.location.length > 6) { %>
                <div class="doctor_list__container__col-1__filter__show_more" id="show-more" onclick="showMore(this)"><span ><i class="fa fa-plus"></i></span> Show More</div>
            <% } %>
            <div class="doctor_list__container__col-1__filter__show_more display_none" id="show-less" onclick="showLess(this)"><span ><i class="fa fa-minus"></i></span> Show Less</div>
        
            <hr>
            
                <span>
                    <h6>Specialization</h6>
                    <button type="submit"><i class="fa fa-search"></i></button>
                </span>
                <div>		
                    <% for(let i = 0; i < filters.specializations.length; i++) { %>
                    <% if(i <= 6) { %>
                        <input type="checkbox"  class="<%= '_' + filters.specializations[i].split(' ').join('-') %>" onclick="this.form.submit()" id="New Delhi" name="specializations[]" value="<%= filters.specializations[i] %>"><label class="checkbox_container" for="New Delhi"><%= filters.specializations[i] %></label>
                    <% } else { %>
                        <input type="checkbox" class="<%= '_' + filters.specializations[i].split(' ').join('-') %>" onclick="this.form.submit()" id="New Delhi" name="specializations[]" value="<%= filters.specializations[i] %>"><label class="checkbox_container display_none" for="New Delhi"><%= filters.specializations[i] %></label>
                    <% } %>
                <% } %>

                </div>
                <% if(filters.specializations.length > 6) { %>
                    <div class="doctor_list__container__col-1__filter__show_more" id="show-more" onclick="showMore(this)"><span><i class="fa fa-plus"></i></span> Show More</div>
                <% } %>
                <div class="doctor_list__container__col-1__filter__show_more display_none" id="show-less" onclick="showLess(this)"><span><i class="fa fa-minus"></i></span> Show Less</div>
            
                
            <!-- <a class="showmore" href="#">+ Show More</a> -->
            <hr>
            
                <span>
                    <h6>Hospital</h6>
                    <button type="submit"><i class="fa fa-search"></i></button>
                </span>
                <div>		
                    <% for(let i = 0; i < filters.hospital.length; i++) { %>
                    <% if(i <= 6) { %>
                        <input type="checkbox"  class="<%= '_' + filters.hospital[i].split(' ').join('-') %>" onclick="this.form.submit()" id="New Delhi" name="hospital[]" value="<%= filters.hospital[i] %>"><label class="checkbox_container" for="New Delhi"><%= filters.hospital[i] %></label>
                    <% } else { %>
                        <input type="checkbox" class="<%= '_' + filters.hospital[i].split(' ').join('-') %>" onclick="this.form.submit()" id="New Delhi" name="hospital[]" value="<%= filters.hospital[i] %>"><label class="checkbox_container display_none" for="New Delhi"><%= filters.hospital[i] %></label>
                    <% } %>
                <% } %>

                </div>
                <% if(filters.hospital.length > 6) { %>
                    <div class="doctor_list__container__col-1__filter__show_more" id="show-more" onclick="showMore(this)"><span><i class="fa fa-plus"></i></span> Show More</div>
                <% } %>
                <div class="doctor_list__container__col-1__filter__show_more display_none" id="show-less" onclick="showLess(this)"><span><i class="fa fa-minus"></i></span> Show Less</div>
            
            <hr>
            <form class="filt" action="#">
                <span>
                    <h6> Years of Experience</h6>
                    <button type="submit"><i class="fa fa-search"></i></button>
                </span>
        
                <div><input id="30+" value="30" class="_30" type="checkbox" name="experience[]" onclick="this.form.submit()">
                    <label class="checkbox_container" for="30+">30+</label>
                </div>
                <div><input id="25+" value="25" class="_25" type="checkbox" name="experience[]" onclick="this.form.submit()">
                    <label class="checkbox_container" for="25+">25+</label>
                </div>
                <div><input id="20+" value="20" class="_20" type="checkbox" name="experience[]" onclick="this.form.submit()">
                    <label class="checkbox_container" for="20+">20+</label>
                </div>
                <div><input id="15+" value="15" class="_15" type="checkbox" name="experience[]" onclick="this.form.submit()">
                    <label class="checkbox_container" for="15+">15+</label>
                </div>
                <div><input id="10+" value="10" class="_10" type="checkbox" name="experience[]" onclick="this.form.submit()">
                    <label class="checkbox_container" for="10+">10+</label>
                </div>
                <div><input id="5+" value="5" class="_5" type="checkbox" name="experience[]" onclick="this.form.submit()">
                    <label class="checkbox_container" for="5+">5+</label>
                </div>
                
            </form>
            
            <hr>
        </div>

        <div class="grid doctor_list__container__col-2 doctors_list">
            <% if(doctors.length === 0) { %>
                <h4 class="heading-4 no-result">No results where found for this query</h4>
            <% } else { %>
                <% for(let i = 0; i < doctors.length; i++){ %>
                
                <div class="doctor_list__container__col-2__card doctor_list__container__col-2__card-1 ">
                    <div height="min-content" class="doc_pro">
                        <div class=" doctor_list__container__col-2__card__name ">
                            <a href="doctor/<%= doctors[i].id %>"><h3><%= doctors[i].name %></h3></a>
                        </div>
                        <ul class="qualification">
                            <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__achievement-1"><span><i class="fas fa-certificate"></i></span><%= doctors[i].doctor.achievements[0] %></li>
                            <% if(doctors[i].doctor.achievements.length > 1) { %>
                                <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__achievement-2"><span><img src="https://s3.ap-south-1.amazonaws.com/appdev.konfinity.com/css/tasks/certificate.png" alt=""></span><%= doctors[i].doctor.achievements[1] %></li>
                            <% } %>
                            <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__experience"><span><i class="fas fa-clock"></i></span><%= doctors[i].doctor.experience %> Years Of Experience</li>
                            <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__experience"><span><i class='fas fa-user-graduate'></i></span><%= doctors[i].doctor.qualifications[0] %></li>
                            <% for(let h = 0; h < doctors[i].doctor.hospitalList.length; h++) { %>
                                <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__hospital"><span><i class="fas fa-building"></i></span><%= doctors[i].doctor.hospitalList[h] %></li>
                            <% } %>
                            <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__location"><span><i class="fas fa-map-marker-alt"></i></span><%= doctors[i].location %></li>
                            <li><span><i class="fas fa-money-bill"></i></span> <%= doctors[i].doctor.avg_fees %></li>
                            <!-- <li><i class='fas fa-certificate'></i><p>Eye Specialist</p></li>
                            <li><i class='fas fa-user-graduate'></i><p>MHSC MD</p></li>
                            <li><i class='fas fa-award'></i><p>President of Doctor Ass.</p></li>
                            <li><i class='fas fa-clock'></i><p>7 Years of Experience</p></li>
                            <li><i class='fas fa-hospital'></i><p>Fortis Hopspital</p></li>
                            <li><i class="fas fa-map-marker-alt"></i><p>Rajkot</p></li> -->
                        </ul>
<!-- 
                        <div class="qualification doctor_list__container__col-2__card__other_details ">
                            <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__achievement-1"><span><i class="fas fa-certificate"></i></span><%= doctors[i].doctor.achievements[0] %></li>
                            <% if(doctors[i].doctor.achievements.length > 1) { %>
                                <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__achievement-2"><span><img src="https://s3.ap-south-1.amazonaws.com/appdev.konfinity.com/css/tasks/certificate.png" alt=""></span><%= doctors[i].doctor.achievements[1] %></li>
                            <% } %>
                            <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__experience"><span><i class="fas fa-clock"></i></span><%= doctors[i].doctor.experience %> Years Of Experience</li>
                            
                            <% for(let h = 0; h < doctors[i].doctor.hospitalList.length; h++) { %>
                                <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__hospital"><span><i class="fas fa-building"></i></span><%= doctors[i].doctor.hospitalList[h] %></li>
                            <% } %>
                            <li class="doctor_list__container__col-2__card__other_details__para doctor_list__container__col-2__card__other_details__location"><span><i class="fas fa-map-marker-alt"></i></span><%= doctors[i].location %></li>
                        </div> -->
                        <button class="doctor_list__container__col-2__card__book darkbluebtn btn">Book an appointment</button>
                        
                            	<a href="doctor/<%= doctors[i].id %>"><img src="<%= doctors[i].display_picture %>" alt="" class="doctor_list__container__col-2__card__doctor_img_wrapper__img">	</a>
                            
                    </div>
                    
                    
                    <!-- <div class="doctor_list__container__col-2__card__time_slot">
                        <h4 class="heading-4">Select a Time Slot</h4>
                            
                        <div class="time-slots-header carousel">
                            <div class="time-slots-header-controls time-slots-header-left right">
                                <i class="fas fa-chevron-left"></i>
                            </div>
                            <div class="carousel-dates slides">
                                <div class="date-heading date-heading--active current slide">
                                    <% var k = currentDay; %>
                                    
                                    <% var rightNowCount = new Date(dateFromServer);
                                        

                                        rightNowCount.setHours(rightNowCount.getHours() + 5);

                                        rightNowCount.setMinutes(rightNowCount.getMinutes() + 30);
                                        

                                        var dateForSlotsCount = new Date(dateFromServer);
                                        

                                        dateForSlotsCount.setHours(dateForSlotsCount.getHours() + 5);
                                        
                                        
                                        dateForSlotsCount.setMinutes(dateForSlotsCount.getMinutes() + 30); 
                                        

                                        

                                        %>
                                    <% const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday']; %>
                                    <% function slotsAvailable(day, k) {
                                        let slotCount = 0;
                                        for(let j = 0; j < doctors[i].slots.length; j++){

                                            if((doctors[i].slots[j].isDisabled) || (doctors[i].slots[j].holiday)) {
                                            
                                            } else {

                                                 if(doctors[i].slots[j].days.indexOf(day) !== -1){	
                                                    for(let c = 0; c < doctors[i].slots[j].subSlots.length; c++){
                                            
                                                        if(doctors[i].slots[j].subSlots[c].isBooked || doctors[i].slots[j].subSlots[c].isDisabled){
                                                        
                                                        } else {

                                                        var hoursCount;

                                                        if(doctors[i].slots[j].subSlots[c].startTime.split(':')[1].split(' ')[1] == 'pm'){
                                                            if(doctors[i].slots[j].subSlots[c].startTime.split(':')[0] == '12'){
                                                                hoursCount = parseInt(doctors[i].slots[j].subSlots[c].startTime.split(':')[0]);
                                                            } else {
                                                                hoursCount = parseInt(doctors[i].slots[j].subSlots[c].startTime.split(':')[0]) + 12;
                                                            }
                                                        } else {
                                                            hoursCount = parseInt(doctors[i].slots[j].subSlots[c].startTime.split(':')[0]);
                                                        } 
                                                            
                                                        var minutesCount = parseInt(doctors[i].slots[j].subSlots[c].startTime.split(':')[1].split(' ')[0]);
                                                            
                                                        
                                                        dateForSlotsCount = new Date(dateFromServer);
                                                        


                                                        while(days.indexOf(day) !== dateForSlotsCount.getDay()){
                                                            dateForSlotsCount.setDate(dateForSlotsCount.getDate() + 1);
                                                        }


                                                                                
                                                        dateForSlotsCount.setHours(hoursCount);

                                                        
                                                        dateForSlotsCount.setHours(dateForSlotsCount.getHours() + 5);

                                                        
                                                        dateForSlotsCount.setMinutes(minutesCount);
                                                        
                                                        dateForSlotsCount.setMinutes(dateForSlotsCount.getMinutes() + 30);
                                                        
                                                        
                                                            if(rightNowCount < dateForSlotsCount) {
                                                                slotCount++;
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        return slotCount;
                                    } %>
                                    <div class="day-date">
                                        <span>Today</span>
                                    </div>
                                    <div class="day-slots-available">
                                        <% let AvailableSlots = slotsAvailable(days[k]) %>
                                        <%= AvailableSlots === 0 ? 'No' : AvailableSlots %> Slots Available
                                    </div>
                                </div>
                                <div class="date-heading slide">
                                    <div class="day-date">
                                        <span>Tommorow</span>
                                    </div>
                                    <div class="day-slots-available">
                                        <% AvailableSlots = slotsAvailable(days[k+1])  %>
                                        <%= AvailableSlots === 0 ? 'No' : AvailableSlots %> Slots Available
                                    </div>
                                </div>
                                <% let dateForCarousel = dateFromServer;
                                let carouselDate = new Date(dateForCarousel);
                                carouselDate.setDate(carouselDate.getDate() + 1);
                                k = k + 2; 
                                for(let r = 1; r < 6 ; r++) { %>
                                <% k = k == 7 ? k % 7 : k; %>
                                    <div class="date-heading slide">
                                        <div class="day-date">
                                            <% carouselDate.setDate(carouselDate.getDate() + 1) %>
                                            <span><%= new Date(carouselDate).toDateString() %></span>
                                        </div>
                                        <div class="day-slots-available">
                                            <% AvailableSlots = slotsAvailable(days[k]) %>
                                            <%= AvailableSlots === 0 ? 'No' : AvailableSlots %> Slots Available
                                        </div>
                                    </div>
                                    <% k++ %>
                                <% } %>
                            </div>
                            <div class="time-slots-header-controls time-slots-header-right left">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                        <div class="time-slots-container time-slots-carousel">
                            <% let current = currentDay;
                            
                            var subslots = [];	
                            var dateForSlots = new Date(dateFromServer);
                            var dateForTime = new Date(dateFromServer);
                            
                            

                            var rightNow = new Date(dateFromServer);
                            rightNow.setHours(dateFromServer.getHours() + 5);
                            rightNow.setMinutes(dateFromServer.getMinutes() + 30);
                            dateForSlots.setHours(dateFromServer.getHours() + 5);
                            dateForSlots.setMinutes(dateFromServer.getMinutes() + 30);
                            


                            %>
                            <% for(let j = 0; j < 7; j++) { %>

                                    
                                <% 
                                let subslots = [];
                                let morningSlots = [];
                                let morningDoctor = [];
                                let afternoonSlots = [];
                                let afternoonDoctor = [];
                                let eveningSlots = [];
                                let eveningDoctor = [];
                                let morningColor = [];
                                let afternoonColor = [];
                                let eveningColor = [];
                                let morningDates = [];
                                let afternoonDates = [];
                                let eveningDates = [];

                                noSlots = 0;
                                if(current >= 7) current = current % 7;
                                
                                for(let q = 0; q < doctors[i].slots.length; q++){
                                    if((doctors[i].slots[q].isDisabled) || (doctors[i].slots[q].isHoliday)){
                                            
                                    } else {	
                                        if(doctors[i].slots[q].days.indexOf(days[current]) !== -1){
                                            for(let m = 0; m < doctors[i].slots[q].subSlots.length; m++){
                                                if(doctors[i].slots[q].subSlots[m].isBooked || doctors[i].slots[q].subSlots[m].isDisabled){

                                                } else {


                                                    var hours;

                                                    if(doctors[i].slots[q].subSlots[m].startTime.split(':')[1].split(' ')[1] == 'pm'){

                                                        if(doctors[i].slots[q].subSlots[m].startTime.split(':')[0] == '12'){
                                                            
                                                            hours = parseInt(doctors[i].slots[q].subSlots[m].startTime.split(':')[0]);

                                                        } else {
                                                            
                                                            hours = parseInt(doctors[i].slots[q].subSlots[m].startTime.split(':')[0]) + 12;

                                                        }
                                                    } else {

                                                        hours = parseInt(doctors[i].slots[q].subSlots[m].startTime.split(':')[0]);

                                                    }

                                                    var minutes = parseInt(doctors[i].slots[q].subSlots[m].startTime.split(':')[1].split(' ')[0]);

                                                    dateForSlots = new Date(dateFromServer);
                                                    dateForSlots.setDate(dateForSlots.getDate() + j);

                                                    dateForSlots.setHours(hours);

                                                    dateForSlots.setHours(dateForSlots.getHours() + 5);
                                                    


                                                    dateForSlots.setMinutes(minutes);
                                                    dateForSlots.setMinutes(dateForSlots.getMinutes() + 30);


                                                    if(rightNow < dateForSlots){
                                                        
                                                        if(dateForSlots.getUTCHours() >= 8 && dateForSlots.getUTCHours() < 12){
                                                            
                                                            morningSlots.push(doctors[i].slots[q].subSlots[m]);
                                                            morningColor.push(q);
                                                            morningDoctor.push(doctors[i]._id);

                                                        } else if(dateForSlots.getUTCHours() >= 12 && dateForSlots.getUTCHours() < 17) {

                                                            afternoonSlots.push(doctors[i].slots[q].subSlots[m]);
                                                            afternoonColor.push(q);
                                                            afternoonDoctor.push(doctors[i]._id);

                                                        } else if(dateForSlots.getUTCHours() >= 17 && dateForSlots.getUTCHours() < 23) {
                                                            eveningSlots.push(doctors[i].slots[q].subSlots[m]);
                                                            eveningColor.push(q);
                                                            eveningDoctor.push(doctors[i]._id);
                                                        }	

                                                    }	

                                                }
                                            }
                                        }
                                    }	
                                        
                                }
                                            
                                %>	
                                <div class="time-slots time-slot-slide">
                                    <div class="time-slot-day-wise">
                                        <div class="time-slot-morning">
                                            <div class="time-slot-day-wise-heading">
                                                <i class="far fa-sun"></i>
                                                <h4 class="para-1">Morning</h4>
                                            </div>
                                            <div class="time-slot-day-wise-slots">
                                                <% for(let d = 0; d < morningSlots.length; d++){ %>
                                                    <% if(morningColor[d] == 0){ %>
                                                        <div class="slot" onclick="goToAppointment(this)" data-subslotid="<%= morningSlots[d]._id %>" data-doctorid="<%= morningDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= morningSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    <% if(morningColor[d] == 1){ %>
                                                        <div class="slot slot-red" onclick="goToAppointment(this)" data-subslotid="<%= morningSlots[d]._id %>" data-doctorid="<%= morningDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= morningSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    <% if(morningColor[d] == 2){ %>
                                                        <div class="slot slot-purple" onclick="goToAppointment(this)" data-subslotid="<%= morningSlots[d]._id %>" data-doctorid="<%= morningDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= morningSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    <% if(morningColor[d] == 3){ %>
                                                        <div class="slot slot-green" onclick="goToAppointment(this)" data-subslotid="<%= morningSlots[d]._id %>" data-doctorid="<%= morningDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= morningSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    
                                                <% } %>
                                                
                                            </div>
                                        </div>
                                        <div class="time-slot-morning">
                                            <div class="time-slot-day-wise-heading">
                                                <i class="far fa-sun"></i>
                                                <h4 class="para-1">Afternoon</h4>
                                            </div>
                                            <div class="time-slot-day-wise-slots">
                                                <% for(let d = 0; d < afternoonSlots.length; d++){ %>
                                                    <% if(afternoonColor[d] == 0){ %>
                                                        <div class="slot" onclick="goToAppointment(this)" data-subslotid="<%= afternoonSlots[d]._id %>" data-doctorid="<%= afternoonDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= afternoonSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    <% if(afternoonColor[d] == 1){ %>
                                                        <div class="slot slot-red" onclick="goToAppointment(this)" data-subslotid="<%= afternoonSlots[d]._id %>" data-doctorid="<%= afternoonDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= afternoonSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    <% if(afternoonColor[d] == 2){ %>
                                                        <div class="slot slot-purple" onclick="goToAppointment(this)" data-subslotid="<%= afternoonSlots[d]._id %>" data-doctorid="<%= afternoonDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= afternoonSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    <% if(afternoonColor[d] == 3){ %>
                                                        <div class="slot slot-green" onclick="goToAppointment(this)"data-subslotid="<%= afternoonSlots[d]._id %>" data-doctorid="<%= afternoonDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= afternoonSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                <% } %>
                                            </div>
                                        </div>
                                        <div class="time-slot-morning">
                                            <div class="time-slot-day-wise-heading">
                                                <i class="far fa-sun"></i>
                                                <h4 class="para-1">Evening</h4>
                                            </div>
                                            <div class="time-slot-day-wise-slots">
                                                <% for(let d = 0; d < eveningSlots.length; d++){ %>
                                                    <% if(eveningColor[d] == 0){ %>
                                                        <div class="slot" onclick="goToAppointment(this)" data-subslotid="<%= eveningSlots[d]._id %>" data-doctorid="<%= eveningDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= eveningSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    <% if(eveningColor[d] == 1){ %>
                                                        <div class="slot slot-red" onclick="goToAppointment(this)" data-subslotid="<%= eveningSlots[d]._id %>" data-doctorid="<%= eveningDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= eveningSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    <% if(eveningColor[d] == 2){ %>
                                                        <div class="slot slot-purple" onclick="goToAppointment(this)" data-subslotid="<%= eveningSlots[d]._id %>" data-doctorid="<%= eveningDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= eveningSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    <% if(eveningColor[d] == 3){ %>
                                                        <div class="slot slot-green" onclick="goToAppointment(this)"data-subslotid="<%= eveningSlots[d]._id %>" data-doctorid="<%= eveningDoctor[d] %>" data-date="<%= dateForSlots.toDateString() %>">
                                                            <%= eveningSlots[d].startTime %>
                                                        </div>
                                                    <% } %>
                                                    
                                                <% } %>
                                            </div>
                                        </div>
                                    </div>
                                
                                </div>
                                
                                <% current++ %>
                                <% %>
                            <% } %>
                        </div>
                        <div class="legend">
                        <% for(let n = 0; n < doctors[i].slots.length; n++) { %>
                            <% if((doctors[i].slots[n].isDisabled) || (doctors[i].slots[n].holiday)) { %>
                                <% } else { %>
                                    <% if(n == 0) { %>
                                        <div class="legend-item legend-item-blue">
                                            <%= doctors[i].slots[n].hospital %>
                                        </div>
                                    <% } %>
                                    <% if(n == 1) { %>
                                        <div class="legend-item legend-item-red">
                                            <%= doctors[i].slots[n].hospital %>
                                        </div>
                                    <% } %>
                                    <% if(n == 2) { %>
                                        <div class="legend-item legend-item-purple">
                                            <%= doctors[i].slots[n].hospital %>
                                        </div>
                                    <% } %>
                                    <% if(n == 3) { %>
                                        <div class="legend-item legend-item-green">
                                            <%= doctors[i].slots[n].hospital %>
                                        </div>
                                    <% } %>
                            <% } %>
                        <% } %>
                        </div>
                    </div> -->
                </div>
                <% } %>
            <% } %>




        <section class="doctors_list">
            <div class="doc_pro" id="prof1">
                <h3>Charlie Moon</h3>
                <ul class="qualification">
                    <li><i class='fas fa-certificate'></i><p>Homeopethic</p></li>
                    <li><i class='fas fa-user-graduate'></i><p>MBBS, MD, BDMS</p></li>
                    <li><i class='fas fa-award'></i><p>Gold Medal in Homeopethy</p></li>
                    <li><i class='fas fa-clock'></i><p>5 Years of Experience</p></li>
                    <li><i class='fas fa-hospital'></i><p>AIIMS</p></li>
                    <li><i class='fas fa-map-marker-alt'></i><p>Delhi</p></li>
                </ul>
                <button class='darkbluebtn btn'> Book an Appointment</button>
                <img src="https://s3.ap-south-1.amazonaws.com/appdev.konfinity.com/css/tasks/image--002.jpg" alt="">
            </div>
            <div class="doc_pro" id="prof2">
                <h3>Rose Sanson</h3>
                <ul class="qualification">
                    <li><i class='fas fa-certificate'></i><p>Neurological Surgeon</p></li>
                    <li><i class='fas fa-user-graduate'></i><p>BHMS MSH</p></li>
                    <li><i class='fas fa-award'></i><p>Doctor of The year 2012</p></li>
                    <li><i class='fas fa-clock'></i><p>15 Years of Experience</p></li>
                    <li><i class='fas fa-hospital'></i><p>Apollo Hospital</p></li>
                    <li><i class="fas fa-map-marker-alt"></i><p>Mumbai</p></li>
                </ul>
                <button class='darkbluebtn btn'> Book an Appointment</button>
                <img src="https://s3.ap-south-1.amazonaws.com/appdev.konfinity.com/css/tasks/image--004.jpg" alt="">
            </div>
            <div class="doc_pro" id="prof3">
                <h3>Duke Moon</h3>
                <ul class="qualification">
                    <li><i class='fas fa-certificate'></i><p>Orthopedic Surgeon</p></li>
                    <li><i class='fas fa-user-graduate'></i><p>DHNS MD Ortho.</p></li>
                    <li><i class='fas fa-award'></i><p>2015 Medical Student of the Year</p></li>
                    <li><i class='fas fa-clock'></i><p>5 Years of Experience</p></li>
                    <li><i class='fas fa-hospital'></i><p>City Hospital</p></li>
                    <li><i class="fas fa-map-marker-alt"></i><p>Ahmedabad</p></li>
                </ul>
                <button class='darkbluebtn btn'> Book an Appointment</button>
                <img src="https://s3.ap-south-1.amazonaws.com/appdev.konfinity.com/css/tasks/image--005.jpg" alt="">
            </div>
            <div class="doc_pro" id="prof4">
                <h3>Akshay Kumar</h3>
                <ul class="qualification">
                    <li><i class='fas fa-certificate'></i><p>Heart Specialist</p></li>
                    <li><i class='fas fa-user-graduate'></i><p>MSEE MBBS MD</p></li>
                    <li><i class='fas fa-award'></i><p>Most Successful Doctor </p></li>
                    <li><i class='fas fa-clock'></i><p>8 Years of Experience</p></li>
                    <li><i class='fas fa-hospital'></i><p>Northstar</p></li>
                    <li><i class="fas fa-map-marker-alt"></i><p>Kolkatta</p></li>
                </ul>
                <button class='darkbluebtn btn'> Book an Appointment</button>
                <img src="https://s3.ap-south-1.amazonaws.com/appdev.konfinity.com/css/tasks/image--006.jpg" alt="">
            </div>
            <div class="doc_pro" id="prof5">
                <h3>Manisha Khanna</h3>
                <ul class="qualification">
                    <li><i class='fas fa-certificate'></i><p>Eye Specialist</p></li>
                    <li><i class='fas fa-user-graduate'></i><p>MHSC MD</p></li>
                    <li><i class='fas fa-award'></i><p>President of Doctor Ass.</p></li>
                    <li><i class='fas fa-clock'></i><p>7 Years of Experience</p></li>
                    <li><i class='fas fa-hospital'></i><p>Fortis Hopspital</p></li>
                    <li><i class="fas fa-map-marker-alt"></i><p>Rajkot</p></li>
                </ul>
                <button class='darkbluebtn btn'> Book an Appointment</button>
                <img src="https://s3.ap-south-1.amazonaws.com/appdev.konfinity.com/css/tasks/image--003.jpg" alt="">
            </div>
            <div class="doc_pro" id="prof6">
                <h3>Babita Savaliya</h3>
                <ul class="qualification">
                    <li><i class='fas fa-certificate'></i><p>Infertility and Child Specialist</p></li>
                    <li><i class='fas fa-user-graduate'></i><p>MDC BHMS</p></li>
                    <li><i class='fas fa-award'></i><p>Specialist of the year 2010</p></li>
                    <li><i class='fas fa-clock'></i><p>25 Years of Experience</p></li>
                    <li><i class='fas fa-hospital'></i><p>City Hospital</p></li>
                    <li><i class="fas fa-map-marker-alt"></i><p>Chennai</p></li>
                </ul>
                <button class='darkbluebtn btn'> Book an Appointment</button>
                <img src="https://s3.ap-south-1.amazonaws.com/appdev.konfinity.com/css/tasks/image--004.jpg" alt="">
            </div>
        </section>

    </section>
    <section class="container help">
        <h2>Need Help?</h2>
        <p>Just let us know, we will happy to assist you</p>
        <button class=" skybluebtn btns">Submit your enquiry</button>
    </section>
    <footer>
        <%- include ('partials/footer.ejs') %>
    </footer>
    <div class="lastline"></div>


    






    
    <script src="../js files/index.js"></script>
</body>

</html>